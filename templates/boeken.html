{% extends "base.html" %}

{% block body %}
<div class="container py-5">
    <!-- Header -->
    <div class="row mb-5">
        <div class="col-lg-8 mx-auto text-center">
            <img src="/static/library_logo.png" alt="Bibliotheek Logo" style="height: 80px;" class="mb-3">
            <h1 class="fw-bold text-primary">Welkom in de Schoolbibliotheek</h1>
            <p class="lead text-secondary">Ontdek, zoek en reserveer boeken voor jouw schoolprojecten, leesplezier of opdrachten!</p>
        </div>
    </div>
    <div class="row justify-content-center mb-3">
    <div class="col-md-10">
        <form class="row g-2 align-items-end"
              id="boeken-filters"
              hx-get="{{ url_for('search_partial') }}"
              hx-target="#boeken-grid"
              hx-trigger="change, keyup delay:200ms from:input, change from:select"
              autocomplete="off">
            <div class="col-md-2">
                <label for="genre" class="form-label mb-0">Genre</label>
                <select class="form-select" name="genre" id="genre">
                    <option value="">Alle</option>
                    {% for genre in genres %}
                        <option value="{{ genre.naam }}">{{ genre.naam }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label for="auteur" class="form-label mb-0">Auteur</label>
                <select class="form-select" name="auteur" id="auteur">
                    <option value="">Alle</option>
                    {% for auteur in auteurs %}
                        <option value="{{ auteur.naam }}">{{ auteur.naam }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label for="thema" class="form-label mb-0">Thema</label>
                <select class="form-select" name="thema" id="thema">
                    <option value="">Alle</option>
                    {% for thema in themas %}
                        <option value="{{ thema.naam }}">{{ thema.naam }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label for="locatie" class="form-label mb-0">Locatie</label>
                <select class="form-select" name="locatie" id="locatie">
                    <option value="">Alle</option>
                    {% for locatie in locaties %}
                        <option value="{{ locatie.naam }}">{{ locatie.naam }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label for="beschikbaar" class="form-label mb-0">Beschikbaarheid</label>
                <select class="form-select" name="beschikbaar" id="beschikbaar">
                    <option value="">Alles</option>
                    <option value="1">Alleen beschikbaar</option>
                </select>
            </div>
        </form>
    </div>
</div>
    <!-- Zoekbalk -->
    <div class="row justify-content-center mb-4">
        <div class="col-md-8">
            <form class="input-group shadow-sm" autocomplete="off" onsubmit="return false;">
                <input type="text" class="form-control form-control-lg"
                       placeholder="Zoek op titel, auteur, genre of locatie..."
                       name="q" aria-label="Zoek boeken..."
                       hx-get="{{ url_for('search_partial') }}"
                       hx-target="#boeken-grid"
                       hx-trigger="input changed delay:200ms">
                <button class="btn btn-primary btn-lg" type="button" tabindex="-1" disabled>
                    <i class="bi bi-search"></i>
                </button>
            </form>
        </div>
    </div>

    <!-- Boeken Grid -->
    <div id="boeken-grid">
        {% include "partials/boeken_grid.html" %}
    </div>

    {% if boeken|length == 0 %}
    <div class="alert alert-info text-center mt-5">
        Geen boeken gevonden. Probeer een andere zoekterm!
    </div>
    {% endif %}
</div>

<!-- Bootstrap Icons CDN (for icons) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<!-- Bootstrap JS (for modal functionality) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}